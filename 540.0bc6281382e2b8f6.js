"use strict";(self.webpackChunkprosoft_components_demo=self.webpackChunkprosoft_components_demo||[]).push([[540],{8982:(V,E,i)=>{function p(o,e,t,r){var _,c=arguments.length,l=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,e,t,r);else for(var y=o.length-1;y>=0;y--)(_=o[y])&&(l=(c<3?_(l):c>3?_(e,t,l):_(e,t))||l);return c>3&&l&&Object.defineProperty(e,t,l),l}function R(o,e){return function(t,r){e(t,r,o)}}i.d(E,{nu:()=>T,Co:()=>Ee});var s=i(3668),H=i(9133),z=i(6731),Y=i(6400),X=i(8167),f=i(1628),D=i(1128),a=i(7497),h=i(4499),P=i(2997),A=i(5804),se=i(273),ce=i(3067),te=i(4753),de=i(3970),ge=i(2098),Z=i(6263),g=i(9468),u=i(461),d=i(7384),S=i(86),C=i(904),v=i(9112),O=i(7964),B=i(4106),I=i(6019);const q=["searchSelectInput"],Se=["innerSelectSearch"];function ve(o,e){if(1&o){const t=s.EpF();s.TgZ(0,"mat-checkbox",9),s.NdJ("change",function(c){return s.CHM(t),s.oxw()._emitSelectAllBooleanToParent(c.checked)}),s.qZA()}if(2&o){const t=s.oxw();s.Q6J("color",null==t.matFormField?null:t.matFormField.color)("checked",t.toggleAllCheckboxChecked)("indeterminate",t.toggleAllCheckboxIndeterminate)("matTooltip",t.toggleAllCheckboxTooltipMessage)("matTooltipPosition",t.toogleAllCheckboxTooltipPosition)}}function ye(o,e){1&o&&s._UZ(0,"mat-spinner",10)}function be(o,e){1&o&&s.Hsn(0,1,["*ngIf","clearIcon; else defaultIcon"])}function Oe(o,e){1&o&&(s.TgZ(0,"mat-icon"),s._uU(1,"close"),s.qZA())}function Te(o,e){if(1&o){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){return s.CHM(t),s.oxw()._reset(!0)}),s.YNc(1,be,1,0,"ng-content",12),s.YNc(2,Oe,2,0,"ng-template",null,13,s.W1O),s.qZA()}if(2&o){const t=s.MAs(3),r=s.oxw();s.xp6(1),s.Q6J("ngIf",r.clearIcon)("ngIfElse",t)}}function Me(o,e){if(1&o&&(s.TgZ(0,"div",14),s._uU(1),s.qZA()),2&o){const t=s.oxw();s.xp6(1),s.hij(" ",t.noEntriesFoundLabel,"\n")}}const xe=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]]],Ie=function(o,e){return{"mat-select-search-inner-multiple":o,"mat-select-search-inner-toggle-all":e}};let _e=(()=>{let o=class{};return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=s.lG2({type:o,selectors:[["","ngxMatSelectSearchClear",""]]}),o})();var me;let T=me=class{constructor(e,t,r,c=null,l,_=null){this.matSelect=e,this.changeDetectorRef=t,this._viewportRuler=r,this.matOption=c,this.liveAnnouncer=l,this.matFormField=_,this.placeholderLabel="Suche",this.type="text",this.noEntriesFoundLabel="Keine Optionen gefunden",this.indexAndLengthScreenReaderText=" of ",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toogleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.toggleAll=new s.vpe,this.onTouched=y=>{},this._options$=new h.X(null),this.optionsList$=this._options$.pipe((0,ce.w)(y=>y?y.changes.pipe((0,te.U)(w=>w.toArray()),(0,de.O)(y.toArray())):(0,P.of)(null))),this.optionsLength$=this.optionsList$.pipe((0,te.U)(y=>y?y.length:0)),this._formControl=new H.NI(""),this._showNoEntriesFound$=(0,A.a)([this._formControl.valueChanges,this.optionsLength$]).pipe((0,te.U)(([y,w])=>this.noEntriesFoundLabel&&y&&w===this.getOptionsLengthOffset())),this._onDestroy=new se.x}get isInsideMatOption(){return!!this.matOption}get value(){return this._formControl.value}set _options(e){this._options$.next(e)}get _options(){return this._options$.getValue()}ngOnInit(){const e="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(e):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,e]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[e]=!0):this.matSelect.panelClass=e,this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe((0,ge.g)(1),(0,Z.R)(this._onDestroy)).subscribe(t=>{t?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe((0,g.q)(1)).pipe((0,Z.R)(this._onDestroy)).subscribe(()=>{this.matSelect._keyManager?this.matSelect._keyManager.change.pipe((0,Z.R)(this._onDestroy)).subscribe(()=>this.adjustScrollTopToFitActiveOptionIntoView()):console.log("_keyManager was not initialized."),this._options=this.matSelect.options;let t=this._options.toArray()[this.getOptionsLengthOffset()];this._options.changes.pipe((0,Z.R)(this._onDestroy)).subscribe(()=>{setTimeout(()=>{const r=this._options.toArray(),c=r[this.getOptionsLengthOffset()],l=this.matSelect._keyManager;l&&this.matSelect.panelOpen&&((!this.matSelect.compareWith(t,c)||!l.activeItem||!r.find(y=>this.matSelect.compareWith(y,l.activeItem)))&&l.setFirstItemActive(),setTimeout(()=>{this.updateInputWidth()}),this.disableScrollToActiveOnOptionsChanged||this.adjustScrollTopToFitActiveOptionIntoView()),t=c})})}),this._showNoEntriesFound$.pipe((0,Z.R)(this._onDestroy)).subscribe(t=>{this.matOption&&(t?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe((0,Z.R)(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe((0,Z.R)(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(e){this.toggleAll.emit(e)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(e){(e.key&&1===e.key.length||e.keyCode>=f.A&&e.keyCode<=f.Z||e.keyCode>=f.xE&&e.keyCode<=f.aO||e.keyCode===f.L_||this.preventHomeEndKeyPropagation&&(e.keyCode===f.Sd||e.keyCode===f.uR))&&e.stopPropagation(),this.matSelect.multiple&&e.key&&e.keyCode===f.K5&&setTimeout(()=>this._focus()),!0===this.enableClearOnEscapePressed&&e.keyCode===f.hY&&this.value&&(this._reset(!0),e.stopPropagation())}_handleKeyup(e){if(e.keyCode===f.LH||e.keyCode===f.JH){const t=this.matSelect._getAriaActiveDescendant(),r=this._options.toArray().findIndex(c=>c.id===t);if(-1!==r){const c=this._options.toArray()[r];this.liveAnnouncer.announce(c.viewValue+" "+this.getAriaIndex(r)+this.indexAndLengthScreenReaderText+this.getAriaLength())}}}getAriaIndex(e){return 0===this.getOptionsLengthOffset()?e+1:e}getAriaLength(){return this._options.toArray().length-this.getOptionsLengthOffset()}writeValue(e){this._lastExternalInputValue=e,this._formControl.setValue(e),this.changeDetectorRef.markForCheck()}onBlur(){this.onTouched()}registerOnChange(e){this._formControl.valueChanges.pipe((0,u.h)(t=>t!==this._lastExternalInputValue),(0,d.b)(()=>this._lastExternalInputValue=void 0),(0,Z.R)(this._onDestroy)).subscribe(e)}registerOnTouched(e){this.onTouched=e}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const e=this.matSelect.panel.nativeElement,t=e.scrollTop;this.searchSelectInput.nativeElement.focus(),e.scrollTop=t}_reset(e){this._formControl.setValue(""),e&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges.pipe((0,Z.R)(this._onDestroy)).subscribe(e=>{let t=!1;if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){(!e||!Array.isArray(e))&&(e=[]);const r=this.matSelect.options.map(c=>c.value);this.previousSelectedValues.forEach(c=>{!e.some(l=>this.matSelect.compareWith(l,c))&&!r.some(l=>this.matSelect.compareWith(l,c))&&(e.push(c),t=!0)})}this.previousSelectedValues=e,t&&this.matSelect._onChange(e)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}adjustScrollTopToFitActiveOptionIntoView(){if(this.matSelect.panel&&this.matSelect.options.length>0){const e=this.getMatOptionHeight(),t=this.matSelect._keyManager.activeItemIndex||0,r=(0,z.CB)(t,this.matSelect.options,this.matSelect.optionGroups),c=(this.matOption?-1:0)+r+t,l=this.matSelect.panel.nativeElement.scrollTop,_=this.innerSelectSearch.nativeElement.offsetHeight,y=Math.floor((256-_)/e),w=Math.round((l+_)/e)-1;w>=c?this.matSelect.panel.nativeElement.scrollTop=c*e:w+y<=c&&(this.matSelect.panel.nativeElement.scrollTop=(c+1)*e-(256-_))}}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let t,e=this.innerSelectSearch.nativeElement;for(;e=e.parentElement;)if(e.classList.contains("mat-select-panel")){t=e;break}t&&(this.innerSelectSearch.nativeElement.style.width=t.clientWidth+"px")}getMatOptionHeight(){return this.matSelect.options.length>0?this.matSelect.options.first._getHostElement().getBoundingClientRect().height:0}getOptionsLengthOffset(){return this.matOption?1:0}};T.\u0275fac=function(e){return new(e||T)(s.Y36(Y.gD),s.Y36(s.sBO),s.Y36(D.rL),s.Y36(z.ey,8),s.Y36(a.Kd),s.Y36(X.KE,8))},T.\u0275cmp=s.Xpm({type:T,selectors:[["ngx-mat-select-search"]],contentQueries:function(e,t,r){if(1&e&&s.Suo(r,_e,5),2&e){let c;s.iGM(c=s.CRH())&&(t.clearIcon=c.first)}},viewQuery:function(e,t){if(1&e&&(s.Gf(q,7,s.SBq),s.Gf(Se,7,s.SBq)),2&e){let r;s.iGM(r=s.CRH())&&(t.searchSelectInput=r.first),s.iGM(r=s.CRH())&&(t.innerSelectSearch=r.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("mat-select-search-inside-mat-option",t.isInsideMatOption)},inputs:{placeholderLabel:"placeholderLabel",type:"type",noEntriesFoundLabel:"noEntriesFoundLabel",indexAndLengthScreenReaderText:"indexAndLengthScreenReaderText",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toogleAllCheckboxTooltipPosition:"toogleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti"},outputs:{toggleAll:"toggleAll"},features:[s._Bn([{provide:H.JU,useExisting:(0,s.Gpc)(()=>me),multi:!0}])],ngContentSelectors:[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]"],decls:11,vars:14,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],["innerSelectSearch",""],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input","mat-input-element",3,"type","formControl","placeholder","keydown","keyup","blur"],["searchSelectInput",""],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change"],["diameter","16",1,"mat-select-search-spinner"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[1,"mat-select-search-no-entries-found"]],template:function(e,t){1&e&&(s.F$t(xe),s._UZ(0,"input",0),s.TgZ(1,"div",1,2),s.YNc(3,ve,1,5,"mat-checkbox",3),s.TgZ(4,"input",4,5),s.NdJ("keydown",function(c){return t._handleKeydown(c)})("keyup",function(c){return t._handleKeyup(c)})("blur",function(){return t.onBlur()}),s.qZA(),s.YNc(6,ye,1,0,"mat-spinner",6),s.YNc(7,Te,4,2,"button",7),s.Hsn(8),s.qZA(),s.YNc(9,Me,2,1,"div",8),s.ALo(10,"async")),2&e&&(s.xp6(1),s.Q6J("ngClass",s.WLB(11,Ie,t.matSelect.multiple,t._isToggleAllCheckboxVisible())),s.xp6(2),s.Q6J("ngIf",t._isToggleAllCheckboxVisible()),s.xp6(1),s.Q6J("type",t.type)("formControl",t._formControl)("placeholder",t.placeholderLabel),s.uIk("aria-label",t.ariaLabel),s.xp6(2),s.Q6J("ngIf",t.searching),s.xp6(1),s.Q6J("ngIf",!t.hideClearSearchButton&&t.value&&!t.searching),s.xp6(2),s.Q6J("ngIf",s.lcZ(10,9,t._showNoEntriesFound$)))},directives:[I.mk,I.O5,H.Fj,H.JJ,H.oH,C.oG,B.gM,O.$g,S.lW,v.Hw],pipes:[I.Ov],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border-bottom-width:1px;border-bottom-style:solid;z-index:100;font-size:inherit;box-shadow:none;border-radius:4px 4px 0 0;-webkit-transform:translate3d(0,0,0)}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:100%}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{flex-basis:auto}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder{-ms-user-select:text}  .mat-select-search-panel{transform:none!important;overflow-x:hidden}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 44px 16px 16px;box-sizing:border-box;width:100%}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;height:3em;line-height:3em}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{top:3px}  .mat-option[aria-disabled=true].contains-mat-select-search{position:static;padding:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-option-pseudo-checkbox{display:none}  .mat-option[aria-disabled=true].contains-mat-select-search.mat-select-search-no-entries-found{height:6em}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:16px;padding-bottom:2px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"],changeDetection:0}),T.ctorParameters=()=>[{type:Y.gD,decorators:[{type:s.tBr,args:[Y.gD]}]},{type:s.sBO},{type:D.rL},{type:z.ey,decorators:[{type:s.FiY},{type:s.tBr,args:[z.ey]}]},{type:a.Kd},{type:X.KE,decorators:[{type:s.FiY},{type:s.tBr,args:[X.KE]}]}],p([(0,s.IIB)()],T.prototype,"placeholderLabel",void 0),p([(0,s.IIB)()],T.prototype,"type",void 0),p([(0,s.IIB)()],T.prototype,"noEntriesFoundLabel",void 0),p([(0,s.IIB)()],T.prototype,"indexAndLengthScreenReaderText",void 0),p([(0,s.IIB)()],T.prototype,"clearSearchInput",void 0),p([(0,s.IIB)()],T.prototype,"searching",void 0),p([(0,s.IIB)()],T.prototype,"disableInitialFocus",void 0),p([(0,s.IIB)()],T.prototype,"enableClearOnEscapePressed",void 0),p([(0,s.IIB)()],T.prototype,"preventHomeEndKeyPropagation",void 0),p([(0,s.IIB)()],T.prototype,"disableScrollToActiveOnOptionsChanged",void 0),p([(0,s.IIB)()],T.prototype,"ariaLabel",void 0),p([(0,s.IIB)()],T.prototype,"showToggleAllCheckbox",void 0),p([(0,s.IIB)()],T.prototype,"toggleAllCheckboxChecked",void 0),p([(0,s.IIB)()],T.prototype,"toggleAllCheckboxIndeterminate",void 0),p([(0,s.IIB)()],T.prototype,"toggleAllCheckboxTooltipMessage",void 0),p([(0,s.IIB)()],T.prototype,"toogleAllCheckboxTooltipPosition",void 0),p([(0,s.IIB)()],T.prototype,"hideClearSearchButton",void 0),p([(0,s.IIB)()],T.prototype,"alwaysRestoreSelectedOptionsMulti",void 0),p([(0,s.r_U)()],T.prototype,"toggleAll",void 0),p([(0,s.i9L)("searchSelectInput",{read:s.SBq,static:!0})],T.prototype,"searchSelectInput",void 0),p([(0,s.i9L)("innerSelectSearch",{read:s.SBq,static:!0})],T.prototype,"innerSelectSearch",void 0),p([(0,s.aQ5)(_e,{static:!1})],T.prototype,"clearIcon",void 0),p([(0,s.pfw)("class.mat-select-search-inside-mat-option")],T.prototype,"isInsideMatOption",null),T=me=p([R(0,(0,s.tBr)(Y.gD)),R(3,(0,s.FiY)()),R(3,(0,s.tBr)(z.ey)),R(5,(0,s.FiY)()),R(5,(0,s.tBr)(X.KE))],T);let Ee=(()=>{let o=class{};return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.oAB({type:o}),o.\u0275inj=s.cJS({imports:[[I.ez,H.UX,S.ot,C.p9,v.Ps,O.Cq,B.AV]]}),o})()},6377:(V,E,i)=>{i.d(E,{C:()=>m});var n=i(8305),M=i(6921);const m=new n.y(M.Z)},2098:(V,E,i)=>{i.d(E,{g:()=>G});var n=i(2210),M=i(1404),m=i(9468),x=i(9947),p=i(8889),R=i(6921),W=i(9585),J=i(5724);function ne(U,Q){return Q?k=>(0,M.z)(Q.pipe((0,m.q)(1),(0,x.e)((U,Q)=>{U.subscribe(new p.Q(Q,R.Z))})),k.pipe(ne(U))):(0,J.z)((k,K)=>U(k,K).pipe((0,m.q)(1),(0,W.h)(k)))}var N=i(9417);function G(U,Q=n.z){const k=(0,N.H)(U,Q);return ne(()=>k)}},44:(V,E,i)=>{i.d(E,{b:()=>m});var n=i(8305),M=i(5044);function m(x){return!!x&&(x instanceof n.y||(0,M.m)(x.lift)&&(0,M.m)(x.subscribe))}},6579:(V,E,i)=>{i.d(E,{o:()=>m,F:()=>x});var n=i(3668),M=i(695);let m=(()=>{class p{constructor(F){this.extractor=F}transform(F){var W;return null!==(W=this.extractor.extractErrorMessage(F))&&void 0!==W?W:""}}return p.\u0275fac=function(F){return new(F||p)(n.Y36(M.z,16))},p.\u0275pipe=n.Yjl({name:"psErrorMessage",type:p,pure:!0}),p})(),x=(()=>{class p{}return p.\u0275fac=function(F){return new(F||p)},p.\u0275mod=n.oAB({type:p}),p.\u0275inj=n.cJS({providers:[],imports:[[]]}),p})()},695:(V,E,i)=>{i.d(E,{z:()=>M});var n=i(3668);let M=(()=>{class m{extractErrorMessage(p){return p?"string"==typeof p?p:"object"==typeof p?p.message:null:null}}return m.\u0275fac=function(p){return new(p||m)},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1540:(V,E,i)=>{i.d(E,{xF:()=>A,Bc:()=>Z,a2:()=>ne,QI:()=>W.Q}),i(6533);var M=i(6019),m=i(9133),x=i(6400),p=i(4106),R=i(6579),F=i(8982),W=i(4773),J=i(3668);let ne=(()=>{class g{static forRoot(d){return{ngModule:g,providers:[{provide:W.Q,useClass:d}]}}}return g.\u0275fac=function(d){return new(d||g)},g.\u0275mod=J.oAB({type:g}),g.\u0275inj=J.cJS({imports:[[M.ez,m.u5,m.UX,x.LD,p.AV,F.Co,R.F],x.LD]}),g})();var N=i(4499),G=i(273),U=i(2997),Q=i(5804),k=i(3719),K=i(6377),re=i(44),j=i(4753),le=i(6263),he=i(2835),pe=i(7384),ee=i(3067),oe=i(3970),ue=i(1733);class s extends G.x{constructor(u=1/0,d=1/0,S=ue.l){super(),this._bufferSize=u,this._windowTime=d,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=d===1/0,this._bufferSize=Math.max(1,u),this._windowTime=Math.max(1,d)}next(u){const{isStopped:d,_buffer:S,_infiniteTimeWindow:C,_timestampProvider:v,_windowTime:O}=this;d||(S.push(u),!C&&S.push(v.now()+O)),this._trimBuffer(),super.next(u)}_subscribe(u){this._throwIfClosed(),this._trimBuffer();const d=this._innerSubscribe(u),{_infiniteTimeWindow:S,_buffer:C}=this,v=C.slice();for(let O=0;O<v.length&&!u.closed;O+=S?1:2)u.next(v[O]);return this._checkFinalizedStatuses(u),d}_trimBuffer(){const{_bufferSize:u,_timestampProvider:d,_buffer:S,_infiniteTimeWindow:C}=this,v=(C?1:2)*u;if(u<1/0&&v<S.length&&S.splice(0,S.length-v),!C){const O=d.now();let B=0;for(let I=1;I<S.length&&S[I]<=O;I+=2)B=I;B&&S.splice(0,B+1)}}}var H=i(3174),Y=i(5488),X=i(9463),f=i(461),D=i(9468),a=i(9661),h=i(2978);class A extends h.er{constructor(u){var d,S,C;let v;super(),this._isPanelOpen$=new N.X(!1),this._searchText$=new N.X(""),this._currentValues$=new N.X([]),this._ngUnsubscribe$=new G.x,this.sortCompare=(I,q)=>I.label.localeCompare(q.label),this.searchCompare=(I,q)=>-1===I.label.toLowerCase().indexOf(q),this._searchDebounceTime=null!==(d=u.searchDebounce)&&void 0!==d?d:300,this._loadTrigger=null!==(S=u.loadTrigger)&&void 0!==S?S:1,this._sortBy=null!==(C=u.sortBy)&&void 0!==C?C:3;const O=function(g,u,d,S){return"id"===g?C=>({value:C[u],label:C[d],entity:C,disabled:S&&C[S]||!1}):C=>({value:C,label:C[d],entity:C,disabled:S&&C[S]||!1})}(u.mode,u.idKey,u.labelKey,u.disabledKey),B=u.items;if("function"!=typeof B){const I=se(B).pipe((0,j.U)(q=>q.map(O)),(0,le.R)(this._ngUnsubscribe$));v=()=>I}else{const I=B;v=()=>se(I()).pipe((0,j.U)(q=>q.map(O)))}var g;"entity"===u.mode&&(this.compareWith=(g=u.idKey,(u,d)=>u===d||!(typeof u!=typeof d||!u||!d||"object"!=typeof u)&&u[g]===d[g]),this.getItemsForValues=I=>I.map(O)),this._loadData=()=>(this.loading=!0,this.error=null,v().pipe((0,he.K)(I=>(this.error=I,(0,U.of)([]))),(0,pe.b)(()=>{this.loading=!1})))}connect(){const d=this._createOptionsLoadTrigger().pipe((0,ee.w)(()=>this._loadData()),(0,oe.O)([]),(0,j.U)(v=>v.map(de)),function(g,u,d){var S,C;let v,O=!1;return g&&"object"==typeof g?(v=null!==(S=g.bufferSize)&&void 0!==S?S:1/0,u=null!==(C=g.windowTime)&&void 0!==C?C:1/0,O=!!g.refCount,d=g.scheduler):v=null!=g?g:1/0,(0,H.B)({connector:()=>new s(v,u,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:O})}({bufferSize:1,refCount:!0})),S=d.pipe((0,ee.w)(v=>this._currentValues$.pipe((0,j.U)(O=>O.filter(B=>!v.find(I=>this.compareWith(I.value,B)))))),(0,Y.x)((v,O)=>{if(v.length!==O.length)return!1;for(const B of v)if(!O.find(I=>this.compareWith(I,B)))return!1;return!0}),(0,j.U)(v=>this.getItemsForValues(v).map(de)));let C=(0,Q.a)([d,S]).pipe((0,X.b)(0),(0,j.U)(([v,O])=>O.concat(v)));if(this._sortBy){const v=this._createSortTrigger();C=C.pipe((0,ee.w)(O=>v.pipe((0,j.U)(()=>this._cloneAndSort(O)))))}return C=C.pipe((0,ee.w)(v=>this._searchText$.pipe((0,X.b)(this._searchDebounceTime),(0,oe.O)(this._searchText$.value),(0,j.U)(O=>(O||"").toLowerCase()),(0,Y.x)(),(0,j.U)(O=>(v.forEach(B=>{B.hidden=this.searchCompare(B,O)}),v))))),C}disconnect(){this._isPanelOpen$.complete(),this._searchText$.complete(),this._currentValues$.complete(),this._ngUnsubscribe$.next(),this._ngUnsubscribe$.complete()}panelOpenChanged(u){this._isPanelOpen$.next(u)}searchTextChanged(u){this._searchText$.next(u)}selectedValuesChanged(u){this._currentValues$.next(u)}getItemsForValues(u){return u.map(d=>({value:d,label:`??? (ID: ${d})`}))}_createOptionsLoadTrigger(){const u=[];1&this._loadTrigger&&u.push((0,U.of)(null));const d=this._isPanelOpen$.pipe((0,Y.x)(),(0,f.h)(S=>S));return 4&this._loadTrigger?u.push(d):2&this._loadTrigger&&u.push(d.pipe((0,D.q)(1))),(0,k.T)(...u)}_createSortTrigger(){const u=this._isPanelOpen$.pipe((0,a.T)(1),(0,Y.x)(),(0,f.h)(S=>!S)),d=this._isPanelOpen$.pipe((0,Y.x)(),(0,ee.w)(S=>S?K.C:this._currentValues$.pipe((0,a.T)(1))));return(0,k.T)(u,d).pipe((0,oe.O)(0))}_cloneAndSort(u){let d=null;if(1&this._sortBy){const C=u.filter(v=>this._currentValues$.value.find(O=>this.compareWith(v.value,O)));d=new WeakSet(C)}return u.slice().sort((C,v)=>{if(1&this._sortBy){const O=+d.has(C),I=+d.has(v)-O;if(I)return I}return 2&this._sortBy?this.sortCompare(C,v):0})}}function se(g){return(0,re.b)(g)||(g=(0,U.of)(g)),g}function de(g){return g.label?"string"!=typeof g.label&&(g.label=`${g.label}`):g.label="",g}var ge=i(2507);let Z=(()=>{class g extends W.Q{createDataSource(d,S){if((0,h.Xy)(d))return d;let C;if(Array.isArray(d)||(0,re.b)(d))C={mode:"id",labelKey:"label",idKey:"value",items:d};else{if(!function(g){return"object"==typeof g&&"idKey"in g&&"labelKey"in g&&"items"in g&&"mode"in g}(d))throw(0,ge.$)();C=d}return new A(C)}}return g.\u0275fac=function(){let u;return function(S){return(u||(u=J.n5z(g)))(S||g)}}(),g.\u0275prov=J.Yz7({token:g,factory:g.\u0275fac}),g})()},2507:(V,E,i)=>{function n(){return Error("The provided data source did not match any of the compatible types")}i.d(E,{$:()=>n})},2978:(V,E,i)=>{i.d(E,{tm:()=>n,er:()=>M,Xy:()=>m});const n=(x,p)=>x===p;class M{constructor(){this.loading=!1,this.error=null,this.compareWith=n}}function m(x){return x&&"function"==typeof x.connect}},7072:(V,E,i)=>{i.d(E,{U:()=>M});var n=i(3668);let M=(()=>{class m{constructor(p){this.templateRef=p}}return m.\u0275fac=function(p){return new(p||m)(n.Y36(n.Rgc))},m.\u0275dir=n.lG2({type:m,selectors:[["","psSelectOptionTemplate",""]]}),m})()},451:(V,E,i)=>{i.d(E,{k:()=>M});var n=i(3668);let M=(()=>{class m{constructor(p){this.templateRef=p}}return m.\u0275fac=function(p){return new(p||m)(n.Y36(n.Rgc))},m.\u0275dir=n.lG2({type:m,selectors:[["","psSelectTriggerTemplate",""]]}),m})()},6533:(V,E,i)=>{i.d(E,{c:()=>X});var n=i(3668),M=i(9133),m=i(6731),x=i(8167),p=i(6400),R=i(4499),F=i(273),W=i(7908),J=i(6263),ne=i(2507),N=i(2978),G=i(7072),U=i(451),Q=i(4773),k=i(4106),K=i(6019),re=i(8982),j=i(6579);const le=function(f){return{$implicit:f}};function he(f,D){if(1&f&&(n.TgZ(0,"mat-select-trigger"),n.GkF(1,8),n.qZA()),2&f){const a=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",a.triggerTemplate)("ngTemplateOutletContext",n.VKq(2,le,a.customTriggerData))}}function pe(f,D){if(1&f&&(n.TgZ(0,"mat-option",9),n.TgZ(1,"span",10),n._uU(2),n.ALo(3,"psErrorMessage"),n.qZA(),n.qZA()),2&f){const a=n.oxw();n.Q6J("disabled",!0),n.xp6(2),n.Oqu(n.lcZ(3,2,a.error))}}function ee(f,D){1&f&&(n.TgZ(0,"mat-option",11),n._uU(1," -- "),n.qZA())}function oe(f,D){if(1&f&&(n.ynx(0),n._uU(1),n.BQk()),2&f){const a=n.oxw().$implicit;n.xp6(1),n.hij(" ",a.label," ")}}function ue(f,D){}function s(f,D){if(1&f&&n.YNc(0,ue,0,0,"ng-template",8),2&f){const a=n.oxw().$implicit,h=n.oxw();n.Q6J("ngTemplateOutlet",h.optionTemplate)("ngTemplateOutletContext",n.VKq(2,le,a))}}function H(f,D){if(1&f&&(n.TgZ(0,"mat-option",12),n.YNc(1,oe,2,1,"ng-container",2),n.YNc(2,s,1,4,void 0,2),n.qZA()),2&f){const a=D.$implicit,h=n.oxw();n.ekj("ps-select__option--hidden",a.hidden),n.Q6J("value",a.value)("disabled",a.disabled),n.xp6(1),n.Q6J("ngIf",!h.optionTemplate),n.xp6(1),n.Q6J("ngIf",h.optionTemplate)}}const Y=(0,m.Id)((0,m.FD)(class{constructor(D,a,h,P,A){this._elementRef=D,this._defaultErrorStateMatcher=a,this._parentForm=h,this._parentFormGroup=P,this.ngControl=A}}));let X=(()=>{class f extends Y{constructor(a,h,P,A,se,ce,te){super(a,h,se,ce,te),this.selectService=P,this.cd=A,this.ngControl=te,this.id="ps-select-"+f.nextId++,this.optionTemplate=null,this.triggerTemplate=null,this.viewChange=new R.X({start:0,end:Number.MAX_VALUE}),this._value=null,this.clearable=!0,this.showToggleAll=!0,this.multiple=!1,this.errorStateMatcher=null,this.panelClass=null,this.placeholder=null,this.required=!1,this.valueChange=new n.vpe,this.openedChange=new n.vpe,this.selectionChange=new n.vpe,this.empty=!0,this.controlType="ps-select",this.filterCtrl=new M.NI(""),this.items=[],this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this._ngUnsubscribe$=new F.x,this._renderChangeSubscription=W.w0.EMPTY,this._onInitCalled=!1,this._onChange=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this)}set setMatSelect(a){this._matSelect=a;const h=a.close;a.close=()=>{h.call(a),a.stateChanges.next()}}get dataSource(){return this._dataSourceInstance}set dataSource(a){this._dataSourceInput!==a&&(this._dataSourceInput=a,this._switchDataSource(a))}get value(){return this._value}set value(a){this._propagateValueChange(a,3)}get shouldLabelFloat(){return!this.empty}get focused(){return this._matSelect.focused}get compareWith(){var a,h;return null!==(h=null===(a=this._dataSourceInstance)||void 0===a?void 0:a.compareWith)&&void 0!==h?h:N.tm}get loading(){var a;return!!(null===(a=this._dataSourceInstance)||void 0===a?void 0:a.loading)}get hasError(){return!!this.error}get error(){var a;return null===(a=this._dataSourceInstance)||void 0===a?void 0:a.error}get showEmptyInput(){var a;if(this.multiple||!this.clearable||!(null===(a=this.items)||void 0===a?void 0:a.length))return!1;const h=(this.filterCtrl.value||"").toLowerCase();return!h||"--".indexOf(h)>-1}get tooltip(){var a;return this.multiple&&(null===(a=this._matSelect)||void 0===a?void 0:a._selectionModel)&&this._matSelect.selected?this._matSelect.selected.map(h=>h.viewValue).join(", "):""}get customTriggerData(){if(this.empty)return null;const a=this._matSelect._selectionModel.selected.map(function(P){return{value:P.value,viewValue:P.viewValue}});return this.multiple?(this._matSelect._isRtl()&&a.reverse(),a):a[0]}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnInit(){this._onInitCalled=!0,this._switchDataSource(this._dataSourceInput),this.filterCtrl.valueChanges.pipe((0,J.R)(this._ngUnsubscribe$)).subscribe(a=>this.dataSource.searchTextChanged(a)),this._matSelect.stateChanges.pipe((0,J.R)(this._ngUnsubscribe$)).subscribe(this.stateChanges)}ngOnDestroy(){this._ngUnsubscribe$.next(),this._ngUnsubscribe$.complete(),this.viewChange.complete(),this._renderChangeSubscription.unsubscribe()}onContainerClick(a){this._matSelect.onContainerClick()}setDescribedByIds(a){this._matSelect.setDescribedByIds(a)}writeValue(a){this._propagateValueChange(a,4)}registerOnChange(a){this._onChange=a}registerOnTouched(a){this._matSelect.registerOnTouched(a)}setDisabledState(a){this.disabled=a}onSelectionChange(a){this._updateToggleAllCheckbox(),this.selectionChange.emit(a)}onOpenedChange(a){this.openedChange.emit(a),this._dataSourceInstance.panelOpenChanged(a)}onValueChange(a){this._propagateValueChange(a,1)}onToggleAll(a){const h=a?this.items.map(P=>P.value):[];this._propagateValueChange(h,2)}trackByOptions(a,h){return`${h.value}#${h.label}`}_propagateValueChange(a,h){this._value=a,this.empty=this.multiple?!(null==a?void 0:a.length):!a,this._updateToggleAllCheckbox(),this._pushSelectedValuesToDataSource(a),3!==h&&this.valueChange.emit(a),4!==h&&this._onChange(a),this.cd.markForCheck()}_pushSelectedValuesToDataSource(a){if(!this._dataSourceInstance)return;let h;h=this.multiple?Array.isArray(a)?a:[]:a?[a]:[],this._dataSourceInstance.selectedValuesChanged(h)}_switchDataSource(a){var h,P;if(this._onInitCalled){if(null===(h=this._dataSourceInstance)||void 0===h||h.disconnect(),this._renderChangeSubscription.unsubscribe(),this._dataSourceInstance=this.selectService.createDataSource(a,null===(P=this.ngControl)||void 0===P?void 0:P.control),!(0,N.Xy)(this._dataSourceInstance))throw(0,ne.$)();this._dataSourceInstance.searchTextChanged(this.filterCtrl.value),this._dataSourceInstance.panelOpenChanged(this._matSelect.panelOpen),this._pushSelectedValuesToDataSource(this._value),this._renderChangeSubscription=this._dataSourceInstance.connect().subscribe(A=>{this.items=A||[],this._updateToggleAllCheckbox(),this.cd.markForCheck()})}}_updateToggleAllCheckbox(){if(this.multiple&&this.items&&Array.isArray(this._value)){const a=this._value.length;this.toggleAllCheckboxChecked=this.items.length===a,this.toggleAllCheckboxIndeterminate=a>0&&a<this.items.length}}}return f.nextId=0,f.\u0275fac=function(a){return new(a||f)(n.Y36(n.SBq),n.Y36(m.rD),n.Y36(Q.Q),n.Y36(n.sBO),n.Y36(M.F,8),n.Y36(M.sg,8),n.Y36(M.a5,10))},f.\u0275cmp=n.Xpm({type:f,selectors:[["ps-select"]],contentQueries:function(a,h,P){if(1&a&&(n.Suo(P,G.U,5,n.Rgc),n.Suo(P,U.k,5,n.Rgc)),2&a){let A;n.iGM(A=n.CRH())&&(h.optionTemplate=A.first),n.iGM(A=n.CRH())&&(h.triggerTemplate=A.first)}},viewQuery:function(a,h){if(1&a&&n.Gf(p.gD,7),2&a){let P;n.iGM(P=n.CRH())&&(h.setMatSelect=P.first)}},hostAttrs:[1,"ps-select"],hostVars:11,hostBindings:function(a,h){2&a&&(n.Ikx("id",h.id),n.ekj("ps-select-multiple",h.multiple)("ps-select-disabled",h.disabled)("ps-select-invalid",h.errorState)("ps-select-required",h.required)("ps-select-empty",h.empty))},inputs:{disabled:"disabled",dataSource:"dataSource",value:"value",clearable:"clearable",showToggleAll:"showToggleAll",multiple:"multiple",errorStateMatcher:"errorStateMatcher",panelClass:"panelClass",placeholder:"placeholder",required:"required"},outputs:{valueChange:"valueChange",openedChange:"openedChange",selectionChange:"selectionChange"},features:[n._Bn([{provide:x.Eo,useExisting:f}]),n.qOj],decls:8,vars:21,consts:[[3,"matTooltip","matTooltipDisabled"],[3,"ngModel","disableOptionCentering","compareWith","disabled","multiple","errorStateMatcher","panelClass","placeholder","required","valueChange","selectionChange","openedChange"],[4,"ngIf"],[1,"ps-select__search"],[3,"formControl","searching","showToggleAllCheckbox","toggleAllCheckboxChecked","toggleAllCheckboxIndeterminate","toggleAll"],["class","ps-select__error",3,"disabled",4,"ngIf"],["class","ps-select__empty-option",4,"ngIf"],["class","ps-select__option",3,"value","ps-select__option--hidden","disabled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ps-select__error",3,"disabled"],[1,"ps-select__error-message"],[1,"ps-select__empty-option"],[1,"ps-select__option",3,"value","disabled"]],template:function(a,h){1&a&&(n.TgZ(0,"div",0),n.TgZ(1,"mat-select",1),n.NdJ("valueChange",function(A){return h.onValueChange(A)})("selectionChange",function(A){return h.onSelectionChange(A)})("openedChange",function(A){return h.onOpenedChange(A)}),n.YNc(2,he,2,4,"mat-select-trigger",2),n.TgZ(3,"mat-option",3),n.TgZ(4,"ngx-mat-select-search",4),n.NdJ("toggleAll",function(A){return h.onToggleAll(A)}),n.qZA(),n.qZA(),n.YNc(5,pe,4,4,"mat-option",5),n.YNc(6,ee,2,0,"mat-option",6),n.YNc(7,H,3,6,"mat-option",7),n.qZA(),n.qZA()),2&a&&(n.Q6J("matTooltip",h.tooltip)("matTooltipDisabled",!h.multiple),n.xp6(1),n.Q6J("ngModel",h.value)("disableOptionCentering",!0)("compareWith",h.compareWith)("disabled",h.disabled)("multiple",h.multiple)("errorStateMatcher",h.errorStateMatcher)("panelClass",h.panelClass)("placeholder",h.placeholder)("required",h.required),n.xp6(1),n.Q6J("ngIf",h.triggerTemplate&&!h.empty),n.xp6(2),n.Q6J("formControl",h.filterCtrl)("searching",h.loading)("showToggleAllCheckbox",h.showToggleAll)("toggleAllCheckboxChecked",h.toggleAllCheckboxChecked)("toggleAllCheckboxIndeterminate",h.toggleAllCheckboxIndeterminate),n.xp6(1),n.Q6J("ngIf",h.hasError),n.xp6(1),n.Q6J("ngIf",h.showEmptyInput),n.xp6(1),n.Q6J("ngForOf",h.items)("ngForTrackBy",h.trackByOptions))},directives:[k.gM,p.gD,M.JJ,M.On,M.Q7,K.O5,m.ey,re.nu,M.oH,K.sg,p.$L,K.tP],pipes:[j.o],styles:[".ps-select__option--hidden{display:none!important}.ps-select__error-message{color:red}ngx-mat-select-search .mat-select-search-clear{line-height:1;width:2.5em;height:2.5em}\n"],encapsulation:2,changeDetection:0}),f})()},4773:(V,E,i)=>{i.d(E,{Q:()=>M});var n=i(3668);let M=(()=>{class m{}return m.\u0275fac=function(p){return new(p||m)},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac}),m})()}}]);