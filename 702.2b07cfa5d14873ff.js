"use strict";(self.webpackChunkprosoft_components_demo=self.webpackChunkprosoft_components_demo||[]).push([[702],{2098:(y,M,a)=>{a.d(M,{g:()=>D});var d=a(2210),p=a(1404),m=a(9468),u=a(9947),c=a(8889),v=a(6921),x=a(9585),b=a(5724);function t(g,h){return h?C=>(0,p.z)(h.pipe((0,m.q)(1),(0,u.e)((g,h)=>{g.subscribe(new c.Q(h,v.Z))})),C.pipe(t(g))):(0,b.z)((C,S)=>g(C,S).pipe((0,m.q)(1),(0,x.h)(C)))}var w=a(9417);function D(g,h=d.z){const C=(0,w.H)(g,h);return t(()=>C)}},6579:(y,M,a)=>{a.d(M,{o:()=>m,F:()=>u});var d=a(3668),p=a(695);let m=(()=>{class c{constructor(l){this.extractor=l}transform(l){var x;return null!==(x=this.extractor.extractErrorMessage(l))&&void 0!==x?x:""}}return c.\u0275fac=function(l){return new(l||c)(d.Y36(p.z,16))},c.\u0275pipe=d.Yjl({name:"psErrorMessage",type:c,pure:!0}),c})(),u=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=d.oAB({type:c}),c.\u0275inj=d.cJS({providers:[],imports:[[]]}),c})()},695:(y,M,a)=>{a.d(M,{z:()=>p});var d=a(3668);let p=(()=>{class m{extractErrorMessage(c){return c?"string"==typeof c?c:"object"==typeof c?c.message:null:null}}return m.\u0275fac=function(c){return new(c||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},6702:(y,M,a)=>{a.r(M),a.d(M,{ViewDemoModule:()=>O});var d=a(6019),p=a(9133),m=a(86),u=a(888),c=a(904),v=a(1553),l=a(9112),x=a(1488),b=a(6579),t=a(3668);let w=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[d.ez,u.QW,l.Ps,x.O,b.F]]}),r})();var D=a(273),g=a(7908),h=a(4499),C=a(2997),S=a(9468),I=a(2098),E=a(4753),P=a(903);function Z(r,s){if(1&r&&(t.TgZ(0,"ps-block-ui",5),t.Hsn(1),t.qZA()),2&r){const o=t.oxw(2);t.Q6J("blocked",o.contentBlocked)}}function T(r,s){if(1&r&&(t.TgZ(0,"mat-icon",8),t._uU(1),t.qZA()),2&r){const o=t.oxw(3);t.xp6(1),t.Oqu(o.exception.icon)}}function F(r,s){if(1&r&&(t.TgZ(0,"mat-card",6),t.YNc(1,T,2,1,"mat-icon",7),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"psErrorMessage"),t.qZA(),t.qZA()),2&r){const o=t.oxw(2);t.ekj("ps-view__error-container--center",o.exception.alignCenter),t.xp6(1),t.Q6J("ngIf",o.exception.icon),t.xp6(2),t.Oqu(t.lcZ(4,4,o.exception.errorObject))}}function V(r,s){if(1&r&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.YNc(2,Z,2,1,"ps-block-ui",3),t.YNc(3,F,5,6,"mat-card",4),t.qZA(),t.qZA()),2&r){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.contentVisible),t.xp6(1),t.Q6J("ngIf",o.exception)}}const A=["*"];let e=(()=>{class r{constructor(o){this.cd=o,this._dataSourceSub=g.w0.EMPTY}set dataSource(o){this._dataSource&&(this._dataSource.disconnect(),this._dataSourceSub.unsubscribe()),this._dataSource=o,this._dataSource&&this.activateDataSource()}get dataSource(){return this._dataSource}get contentVisible(){return this.dataSource.contentVisible}get contentBlocked(){return this.dataSource.contentBlocked}get exception(){return this.dataSource.exception}ngOnDestroy(){this._dataSourceSub.unsubscribe(),this._dataSource&&this._dataSource.disconnect()}activateDataSource(){!this._dataSource||(this._dataSourceSub=this._dataSource.connect().subscribe(()=>{this.cd.markForCheck()}))}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(t.sBO))},r.\u0275cmp=t.Xpm({type:r,selectors:[["ps-view"]],inputs:{dataSource:"dataSource"},ngContentSelectors:A,decls:1,vars:1,consts:[["class","ps-view__main-container",4,"ngIf"],[1,"ps-view__main-container"],[1,"ps-view__cards-container"],[3,"blocked",4,"ngIf"],["class","ps-view__error-container",3,"ps-view__error-container--center",4,"ngIf"],[3,"blocked"],[1,"ps-view__error-container"],["class","ps-view__error-icon",4,"ngIf"],[1,"ps-view__error-icon"]],template:function(o,f){1&o&&(t.F$t(),t.YNc(0,V,4,2,"div",0)),2&o&&t.Q6J("ngIf",f.dataSource)},directives:[d.O5,P.x,u.a8,l.Hw],pipes:[b.o],styles:[".ps-view__main-container{box-sizing:border-box}.ps-view__cards-container{display:grid;grid-gap:1em}mat-card.ps-view__error-container{color:var(--ps-error)}mat-card.ps-view__error-container--center{display:grid;justify-items:center}mat-icon.ps-view__error-icon{color:var(--ps-error);font-size:72px;height:72px;width:72px}\n"],encapsulation:2,changeDetection:0}),r})();function n(r,s){if(1&r&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"json"),t.qZA()),2&r){const o=s.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o))}}class i{constructor(s){this.options=s,this._loading=!1,this._hasLoadError=!1,this._blockView=!1,this.stateChanges$=new D.x,this._loadingSub=g.w0.EMPTY,this._connectSub=g.w0.EMPTY}get contentVisible(){return!this._hasLoadError}get contentBlocked(){return this._loading||this._blockView}connect(){return this._connectSub=this.options.loadTrigger$.subscribe(s=>{this.loadData(s)}),this.stateChanges$}disconnect(){this._connectSub.unsubscribe(),this._loadingSub.unsubscribe()}setViewBlocked(s){this._blockView=s,this.stateChanges$.next()}loadData(s){this._loadingSub.unsubscribe(),this._loading=!0,this._hasLoadError=!1,this.exception=null,this.stateChanges$.next(),this._loadingSub=this.options.loadFn(s).pipe((0,S.q)(1)).subscribe({next:()=>{this._loading=!1,this.stateChanges$.next()},error:o=>{this._loading=!1,this._hasLoadError=!0,this.exception={errorObject:o,alignCenter:!0,icon:"sentiment_very_dissatisfied"},this.stateChanges$.next()}})}}let _=(()=>{class r{constructor(){this.loadError=!1,this.counter=0,this.logs=[],this.loadTrigger$=new h.X(this.counter),this.dataSource=new i({loadTrigger$:this.loadTrigger$,loadFn:o=>(this.logs.push({type:"load",params:o}),(0,C.of)({loadCount:o,time:new Date}).pipe((0,I.g)(1e3),(0,E.U)(f=>{if(this.loadError)throw new Error("this is the server error (loading)");return this.item=f,f})))})}reload(){this.loadTrigger$.next(++this.counter)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-view-demo"]],decls:15,vars:6,consts:[[1,"app-view-data-source-demo__settings"],[3,"ngModel","ngModelChange"],["mat-flat-button","","type","button","color","accent",3,"click"],[1,"app-form-data-source-demo__grid"],[3,"dataSource"],[2,"height","500px","margin-top","1em"],[1,"app-view-data-source-demo__logs"],["class","app-view-data-source-demo__log-item",4,"ngFor","ngForOf"],[1,"app-view-data-source-demo__log-item"]],template:function(o,f){1&o&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-checkbox",1),t.NdJ("ngModelChange",function(B){return f.loadError=B}),t._uU(2,"load error"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return f.reload()}),t._uU(4,"reload"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"ps-view",4),t.TgZ(7,"mat-card"),t.TgZ(8,"pre"),t._uU(9),t.ALo(10,"json"),t.qZA(),t.qZA(),t.TgZ(11,"mat-card",5),t._uU(12,"dummy card"),t.qZA(),t.qZA(),t.TgZ(13,"mat-card",6),t.YNc(14,n,3,3,"div",7),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("ngModel",f.loadError),t.xp6(5),t.Q6J("dataSource",f.dataSource),t.xp6(3),t.Oqu(t.lcZ(10,4,f.item)),t.xp6(5),t.Q6J("ngForOf",f.logs))},directives:[u.a8,c.oG,p.JJ,p.On,m.lW,e,d.sg],pipes:[d.Ts],styles:[".app-view-data-source-demo__settings[_ngcontent-%COMP%]{margin-bottom:1em}.app-view-data-source-demo__settings[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin:1em}.app-view-data-source-demo__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;grid-gap:1em}.app-view-data-source-demo__logs[_ngcontent-%COMP%]{margin-top:1em}.app-view-data-source-demo__log-item[_ngcontent-%COMP%]{margin-bottom:.25em;padding-bottom:.25em;border-bottom:1px solid #ccc;font-size:.95em}"],changeDetection:0}),r})(),O=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[p.u5,d.ez,v.Bz.forChild([{path:"",component:_}]),u.QW,c.p9,m.ot,w]]}),r})()},888:(y,M,a)=>{a.d(M,{a8:()=>T,hq:()=>g,dn:()=>t,rt:()=>h,QW:()=>A});var d=a(3668),p=a(9555),m=a(6731);const u=["*",[["mat-card-footer"]]],c=["*","mat-card-footer"];let t=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=d.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),g=(()=>{class e{constructor(){this.align="start"}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=d.lG2({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,_){2&i&&d.ekj("mat-card-actions-align-end","end"===_.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),e})(),h=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=d.lG2({type:e,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),e})(),T=(()=>{class e{constructor(i){this._animationMode=i}}return e.\u0275fac=function(i){return new(i||e)(d.Y36(p.Qb,8))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,_){2&i&&d.ekj("_mat-animation-noopable","NoopAnimations"===_._animationMode)},exportAs:["matCard"],ngContentSelectors:c,decls:2,vars:0,template:function(i,_){1&i&&(d.F$t(u),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),A=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[m.BQ],m.BQ]}),e})()}}]);