(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"8QTS":function(e,t,a){"use strict";a.r(t),a.d(t,"SelectDemoModule",(function(){return V}));var o=a("2kYt"),n=a("nIj0"),r=a("Meci"),i=a("+Tre"),c=a("29Wa"),l=a("Cd2c"),s=a("F1o0"),b=a("sEIs"),d=a("rV9q"),u=a("ROBh"),m=a("rYDR"),h=a("47ST"),p=a("8j5Y"),g=a("EM62"),f=a("R7+U"),v=a("mFH5"),R=a("6jn/");let y=(()=>{class e{constructor(){this.showToggleAll=!0,this.items$=Object(u.a)(Array.from(Array(500).keys()).map(e=>({value:"id"+e,label:"Item "+e}))),this.form=new n.h({select:new n.e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-multiselect"]],decls:22,vars:8,consts:[[3,"ngModel","ngModelChange"],[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource","multiple","showToggleAll"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Multiselect"),g.Qb(),g.Rb(2,"div"),g.Rb(3,"mat-checkbox",0),g.Yb("ngModelChange",(function(e){return t.showToggleAll=e})),g.zc(4,"show toggle all"),g.Qb(),g.Qb(),g.Rb(5,"span",1),g.Rb(6,"mat-form-field",2),g.Rb(7,"mat-label"),g.zc(8,"select"),g.Qb(),g.Mb(9,"ps-select",3),g.Qb(),g.Qb(),g.zc(10),g.dc(11,"json"),g.Mb(12,"br"),g.Rb(13,"ul"),g.Rb(14,"li"),g.zc(15,"Multiple items should be selectable"),g.Qb(),g.Rb(16,"li"),g.zc(17,"On mouseover the selected items should be shown in a tooltip"),g.Qb(),g.Rb(18,"li"),g.zc(19,"When selecting a item, the dropdown should stay open and shouldnt reorder the items"),g.Qb(),g.Rb(20,"li"),g.zc(21,"When closing and reopening the dropdown, all selected items should be at the top"),g.Qb(),g.Qb()),2&e&&(g.Ab(3),g.ic("ngModel",t.showToggleAll),g.Ab(2),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource",t.items$)("multiple",!0)("showToggleAll",t.showToggleAll),g.Ab(1),g.Bc(" value: ",g.ec(11,6,t.form.value.select),""))},directives:[i.a,n.n,n.q,n.o,n.i,c.c,c.g,R.a,n.g],pipes:[o.g],encapsulation:2,changeDetection:0}),e})(),Q=(()=>{class e{constructor(){this.items=Array.from(Array(50).keys()).map(e=>({value:"id"+e,label:"Item "+e})),this.values=[]}onSelectionChange(e){this.values.push(e.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-events-only"]],decls:13,vars:4,consts:[[3,"dataSource","selectionChange"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Event output only (no form)"),g.Qb(),g.Rb(2,"mat-form-field"),g.Rb(3,"mat-label"),g.zc(4,"selectionChange only"),g.Qb(),g.Rb(5,"ps-select",0),g.Yb("selectionChange",(function(e){return t.onSelectionChange(e)})),g.Qb(),g.Qb(),g.zc(6),g.dc(7,"json"),g.Rb(8,"ul"),g.Rb(9,"li"),g.zc(10,"Initialliy no event should be fired"),g.Qb(),g.Rb(11,"li"),g.zc(12,"When changing the selection, the id of the selected item should be added to the events values above"),g.Qb(),g.Qb()),2&e&&(g.Ab(5),g.ic("dataSource",t.items),g.Ab(1),g.Bc(" change event values: ",g.ec(7,2,t.values)," "))},directives:[c.c,c.g,R.a],pipes:[o.g],encapsulation:2,changeDetection:0}),e})(),z=(()=>{class e{constructor(e){this.cd=e,this.items=Array.from(Array(50).keys()).map(e=>({value:"id"+e,label:"Item "+e})),this.ngModelValue="id11"}random(){const e=Math.floor(Math.random()*this.items.length);this.ngModelValue=this.items[e].value,this.cd.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(g.h))},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-ng-model"]],decls:16,vars:5,consts:[[3,"click"],[3,"ngModel","dataSource","ngModelChange"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"ngModel"),g.Qb(),g.Rb(2,"div"),g.Rb(3,"button",0),g.Yb("click",(function(){return t.random()})),g.zc(4,"select random value"),g.Qb(),g.Qb(),g.Rb(5,"mat-form-field"),g.Rb(6,"mat-label"),g.zc(7,"ngModel bound"),g.Qb(),g.Rb(8,"ps-select",1),g.Yb("ngModelChange",(function(e){return t.ngModelValue=e})),g.Qb(),g.Qb(),g.zc(9),g.dc(10,"json"),g.Rb(11,"ul"),g.Rb(12,"li"),g.zc(13,"'Item 11'/'id11' should be initially selected"),g.Qb(),g.Rb(14,"li"),g.zc(15,"Changing the selection should update the selected value"),g.Qb(),g.Qb()),2&e&&(g.Ab(8),g.ic("ngModel",t.ngModelValue)("dataSource",t.items),g.Ab(1),g.Bc(" value: ",g.ec(10,3,t.ngModelValue)," "))},directives:[c.c,c.g,R.a,n.n,n.q],pipes:[o.g],encapsulation:2,changeDetection:0}),e})(),M=(()=>{class e{constructor(){this.items$=Object(u.a)(Array.from(Array(50).keys()).map(e=>({value:"id"+e,label:"Item "+e}))),this.form=new n.h({select:new n.e("idx")})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-selected-item-not-in-datasource"]],decls:21,vars:5,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Initially selected Item is not in DataSource"),g.Qb(),g.Rb(2,"span",0),g.Rb(3,"mat-form-field",1),g.Rb(4,"mat-label"),g.zc(5,"select"),g.Qb(),g.Mb(6,"ps-select",2),g.Qb(),g.Qb(),g.zc(7),g.dc(8,"json"),g.Mb(9,"br"),g.Rb(10,"ul"),g.Rb(11,"li"),g.zc(12,"Initially '??? (ID: idx)' should be selected"),g.Qb(),g.Rb(13,"li"),g.zc(14,"When first opening the dropdown '??? (ID: idx)' should be the first item and marked as selected"),g.Qb(),g.Rb(15,"li"),g.zc(16,"the filter should work"),g.Qb(),g.Rb(17,"li"),g.zc(18," When filtering for 'item' the '??? (ID: idx)' entry should not be visible in the dropdown. When closing the dropdown without clearing the filter, '??? (ID: idx)' should still be thr selected item in the selectbox and no flickering should occur. "),g.Qb(),g.Rb(19,"li"),g.zc(20,"When selecting a different item, '??? (ID: idx)' should vanish from the selectable items"),g.Qb(),g.Qb()),2&e&&(g.Ab(2),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource",t.items$),g.Ab(1),g.Bc(" value: ",g.ec(8,3,t.form.value.select),""))},directives:[n.o,n.i,c.c,c.g,R.a,n.n,n.g],pipes:[o.g],encapsulation:2,changeDetection:0}),e})(),S=(()=>{class e{constructor(){this.dataSource=new d.a({mode:"id",labelKey:"a",idKey:"b",items:()=>m.a}),this.form=new n.h({select:new n.e("idx")})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-endless-loading-datasource"]],decls:17,vars:5,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Endless Loading DataSource"),g.Qb(),g.Rb(2,"span",0),g.Rb(3,"mat-form-field",1),g.Rb(4,"mat-label"),g.zc(5,"select"),g.Qb(),g.Mb(6,"ps-select",2),g.Qb(),g.Qb(),g.zc(7),g.dc(8,"json"),g.Mb(9,"br"),g.Rb(10,"ul"),g.Rb(11,"li"),g.zc(12,"Initially '??? (ID: idx)' should be selected"),g.Qb(),g.Rb(13,"li"),g.zc(14,"When opening the dropdown, there sould be a loading indicator"),g.Qb(),g.Rb(15,"li"),g.zc(16,"the filter should work"),g.Qb(),g.Qb()),2&e&&(g.Ab(2),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource",t.dataSource),g.Ab(1),g.Bc(" value: ",g.ec(8,3,t.form.value.select),""))},directives:[n.o,n.i,c.c,c.g,R.a,n.n,n.g],pipes:[o.g],encapsulation:2,changeDetection:0}),e})(),w=(()=>{class e{constructor(){this.dataSource=new d.a({mode:"id",labelKey:"a",idKey:"b",items:()=>Object(h.a)("Failed to load items")}),this.form=new n.h({select:new n.e("idx")})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-error-in-datasource"]],decls:15,vars:5,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Error while loading items"),g.Qb(),g.Rb(2,"span",0),g.Rb(3,"mat-form-field",1),g.Rb(4,"mat-label"),g.zc(5,"select"),g.Qb(),g.Mb(6,"ps-select",2),g.Qb(),g.Qb(),g.zc(7),g.dc(8,"json"),g.Mb(9,"br"),g.Rb(10,"ul"),g.Rb(11,"li"),g.zc(12,"Initially '??? (ID: idx)' should be selected"),g.Qb(),g.Rb(13,"li"),g.zc(14,"When opening the dropdown, there sould be a red item with 'Failed to load items' that is not selectable"),g.Qb(),g.Qb()),2&e&&(g.Ab(2),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource",t.dataSource),g.Ab(1),g.Bc(" value: ",g.ec(8,3,t.form.value.select),""))},directives:[n.o,n.i,c.c,c.g,R.a,n.n,n.g],pipes:[o.g],encapsulation:2,changeDetection:0}),e})();var A=a("BwBJ");let C=(()=>{class e{constructor(e){this.cd=e,this.currentLoadTrigger="initial",this.loadCount=0,this.form=new n.h({select:new n.e("idx")}),this.onTriggerChanged(this.currentLoadTrigger)}onTriggerChanged(e){this.loadCount=0,this.dataSource=this.createDataSource("initial"===e?1:"firstopen"===e?2:4),this.cd.markForCheck()}createDataSource(e){return new d.a({mode:"id",idKey:"value",labelKey:"label",items:()=>{this.loadCount++;const e=Math.random(),t=Math.random();return Object(u.a)([{value:e,label:"item "+e},{value:t,label:"item "+t}]).pipe(Object(A.a)(1e3))},loadTrigger:e})}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(g.h))},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-other-load-trigger"]],decls:30,vars:8,consts:[[3,"ngModel","ngModelChange","change"],["value","initial"],["value","firstopen"],["value","everyopen"],[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Custom load trigger with 1 second loading delay"),g.Qb(),g.Rb(2,"div"),g.Rb(3,"mat-radio-group",0),g.Yb("ngModelChange",(function(e){return t.currentLoadTrigger=e}))("change",(function(e){return t.onTriggerChanged(e.value)})),g.Rb(4,"mat-radio-button",1),g.zc(5,"initial"),g.Qb(),g.Rb(6,"mat-radio-button",2),g.zc(7,"first panel open"),g.Qb(),g.Rb(8,"mat-radio-button",3),g.zc(9,"every panel open"),g.Qb(),g.Qb(),g.Qb(),g.Rb(10,"span",4),g.Rb(11,"mat-form-field",5),g.Rb(12,"mat-label"),g.zc(13,"select"),g.Qb(),g.Mb(14,"ps-select",6),g.Qb(),g.Qb(),g.zc(15),g.dc(16,"json"),g.Mb(17,"br"),g.zc(18),g.Mb(19,"br"),g.zc(20),g.Rb(21,"ul"),g.Rb(22,"li"),g.zc(23,"Initially '??? (ID: idx)' should be selected and load trigger should be 'initial' with count 1"),g.Qb(),g.Rb(24,"li"),g.zc(25,"For load trigger 'first panel open' count should be 0, increase to 1 on first open. It should never go beyond 1"),g.Qb(),g.Rb(26,"li"),g.zc(27,"For load trigger 'every panel open' count should be 0 and increase by 1 on every open"),g.Qb(),g.Rb(28,"li"),g.zc(29,"When switching the load trigger, the selected value shouldn't vanish"),g.Qb(),g.Qb()),2&e&&(g.Ab(3),g.ic("ngModel",t.currentLoadTrigger),g.Ab(7),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource",t.dataSource),g.Ab(1),g.Bc(" value: ",g.ec(16,6,t.form.value.select),""),g.Ab(3),g.Bc(" current load trigger: ",t.currentLoadTrigger,""),g.Ab(2),g.Bc(" load trigger count: ",t.loadCount," "))},directives:[s.b,n.n,n.q,s.a,n.o,n.i,c.c,c.g,R.a,n.g],pipes:[o.g],encapsulation:2,changeDetection:0}),e})();const x=function(e){return{mode:"entity",idKey:"Id",labelKey:"Name",items:e}},k=function(e){return{mode:"id",idKey:"Id",labelKey:"Name",items:e}};let D=(()=>{class e extends d.b{constructor(){super()}createDataSource(e,t){return"string"==typeof e&&(e=function(e){if(!/^(id)?lookup:/.test(e))throw new Error(e);const t=e.split(":")[1],a=Object(u.a)(Array.from(Array(50).keys()).map(e=>({Id:`${t}${e}`,Name:`${t} ${e}`})));return{mode:e.startsWith("id")?"id":"entity",idKey:"Id",labelKey:"Name",items:a,loadTrigger:4}}(e)),super.createDataSource(e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Hb({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e{constructor(){this.items$=Object(u.a)(Array.from(Array(50).keys()).map(e=>({Id:"id"+e,Name:"Item "+e}))),this.form=new n.h({lookup_entity:new n.e({Id:"country1",Name:"not visible after first open"}),lookup_id:new n.e("country1"),options_entity:new n.e({Id:"id1",Name:"not visible in select"}),options_id:new n.e("id1")})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-custom-select-service"]],features:[g.zb([{provide:d.d,useClass:D}])],decls:40,vars:21,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","lookup_entity",3,"dataSource"],["formControlName","lookup_id",3,"dataSource"],["formControlName","options_entity",3,"dataSource"],["formControlName","options_id",3,"dataSource"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Custom PsSelectService"),g.Qb(),g.Rb(2,"div",0),g.Rb(3,"mat-form-field",1),g.Rb(4,"mat-label"),g.zc(5,"lookup (mode: entity)"),g.Qb(),g.Mb(6,"ps-select",2),g.Qb(),g.zc(7),g.dc(8,"json"),g.Mb(9,"br"),g.Rb(10,"mat-form-field",1),g.Rb(11,"mat-label"),g.zc(12,"lookup (mode: id)"),g.Qb(),g.Mb(13,"ps-select",3),g.Qb(),g.zc(14),g.dc(15,"json"),g.Mb(16,"br"),g.Rb(17,"mat-form-field",1),g.Rb(18,"mat-label"),g.zc(19,"options (mode: entity)"),g.Qb(),g.Mb(20,"ps-select",4),g.Qb(),g.zc(21),g.dc(22,"json"),g.Mb(23,"br"),g.Rb(24,"mat-form-field",1),g.Rb(25,"mat-label"),g.zc(26,"options (mode: id)"),g.Qb(),g.Mb(27,"ps-select",5),g.Qb(),g.zc(28),g.dc(29,"json"),g.Mb(30,"br"),g.Qb(),g.Rb(31,"ul"),g.Rb(32,"li"),g.zc(33,"The initially visible selections should be 'not visible after first open', '??? (ID: country1)', 'Item 1' and 'Item 1'"),g.Qb(),g.Rb(34,"li"),g.zc(35,"After first opening the lookup dropdowns (when the items are loaded) the label should update to 'country 1'"),g.Qb(),g.Rb(36,"li"),g.zc(37,"For mode 'entity' the whole object should be in the form value"),g.Qb(),g.Rb(38,"li"),g.zc(39,"For mode 'id' only the id should be in the form value"),g.Qb(),g.Qb()),2&e&&(g.Ab(2),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource","lookup:country"),g.Ab(1),g.Bc(" value: ",g.ec(8,9,t.form.value.lookup_entity),""),g.Ab(6),g.ic("dataSource","idlookup:country"),g.Ab(1),g.Bc(" value: ",g.ec(15,11,t.form.value.lookup_id),""),g.Ab(6),g.ic("dataSource",g.kc(17,x,t.items$)),g.Ab(1),g.Bc(" value: ",g.ec(22,13,t.form.value.options_entity),""),g.Ab(6),g.ic("dataSource",g.kc(19,k,t.items$)),g.Ab(1),g.Bc(" value: ",g.ec(29,15,t.form.value.options_id),""))},directives:[n.o,n.i,c.c,c.g,R.a,n.n,n.g],pipes:[o.g],encapsulation:2,changeDetection:0}),e})();var B=a("BbVz"),T=a("1Bby");function j(e,t){if(1&e&&(g.Pb(0),g.zc(1," color: "),g.Rb(2,"span",3),g.zc(3),g.Qb(),g.Ob()),2&e){const e=t.$implicit;g.Ab(2),g.uc("color",e.value),g.Ab(1),g.Ac(e.viewValue)}}function _(e,t){if(1&e&&(g.Pb(0),g.Rb(1,"div"),g.zc(2,"color:"),g.Qb(),g.Rb(3,"span",3),g.zc(4),g.Qb(),g.Ob()),2&e){const e=t.$implicit;g.Ab(3),g.uc("color",e.value.color)("font-size",e.value.size),g.Ab(1),g.Ac(e.label)}}let F=(()=>{class e{constructor(){this.items=[{value:{color:"red",size:"3em"},label:"Red"},{value:{color:"green",size:"2em"},label:"Green"},{value:{color:"blue",size:"1.5em"},label:"Blue"}],this.ngModelValue=null,this.panelNgClass={"app-select-with-custom-template__custom-panel":!0}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-custom-template"]],decls:13,vars:6,consts:[[3,"ngModel","dataSource","panelClass","ngModelChange"],[4,"psSelectTriggerTemplate"],[4,"psSelectOptionTemplate"],[1,"asdf"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Custom options template"),g.Qb(),g.Rb(2,"mat-form-field"),g.Rb(3,"mat-label"),g.zc(4,"select"),g.Qb(),g.Rb(5,"ps-select",0),g.Yb("ngModelChange",(function(e){return t.ngModelValue=e})),g.xc(6,j,4,3,"ng-container",1),g.xc(7,_,5,5,"ng-container",2),g.Qb(),g.Qb(),g.zc(8),g.dc(9,"json"),g.Rb(10,"ul"),g.Rb(11,"li"),g.zc(12,"The selectable items should be in the color of their name"),g.Qb(),g.Qb()),2&e&&(g.Ab(5),g.ic("ngModel",t.ngModelValue)("dataSource",t.items)("panelClass",t.panelNgClass),g.Ab(3),g.Bc(" value: ",g.ec(9,4,t.ngModelValue)," "))},directives:[c.c,c.g,R.a,n.n,n.q,B.a,T.a],pipes:[o.g],styles:["\n      .app-select-with-custom-template__custom-panel.mat-select-panel .mat-option {\n        height: auto;\n        min-height: 3em;\n        line-height: 1.5em;\n        padding-top: 3px;\n        padding-bottom: 3px;\n      }\n    "],encapsulation:2,changeDetection:0}),e})();var O=a("jIqt"),Y=a("5uGe");class L{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?N:K}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class K extends Y.a{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class N extends Y.a{constructor(e,t,a){super(e),this.bufferSize=t,this.startBufferEvery=a,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:a,buffers:o,count:n}=this;this.count++,n%a==0&&o.push([]);for(let r=o.length;r--;){const a=o[r];a.push(e),a.length===t&&(o.splice(r,1),this.destination.next(a))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let a=e.shift();a.length>0&&t.next(a)}super._complete()}}class G{isErrorState(e,t){return!(!e||!e.invalid)}}let P=(()=>{class e{constructor(){this.items$=Object(u.a)(Array.from(Array(10).keys()).map(e=>({value:"id"+e,label:"Item "+e}))),this.form=new n.h({select:new n.e(null,[n.u.required])}),this.errorStateMatcher=new G,this.lastFiveValues$=this.form.get("select").valueChanges.pipe(Object(O.a)(null,null,null,null,null),function(e,t=null){return function(a){return a.lift(new L(e,t))}}(5,1)),this.form.disable()}toggleDiabled(){this.form.disabled?this.form.enable():this.form.disable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-with-error-state-matcher"]],decls:22,vars:9,consts:[[3,"click"],[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource","errorStateMatcher"]],template:function(e,t){1&e&&(g.Rb(0,"h2"),g.zc(1,"Disabled form with custom error state matcher"),g.Qb(),g.Rb(2,"div"),g.Rb(3,"button",0),g.Yb("click",(function(){return t.toggleDiabled()})),g.zc(4,"toggle disabled"),g.Qb(),g.Qb(),g.Rb(5,"span",1),g.Rb(6,"mat-form-field",2),g.Rb(7,"mat-label"),g.zc(8,"select"),g.Qb(),g.Mb(9,"ps-select",3),g.Qb(),g.Qb(),g.zc(10),g.dc(11,"json"),g.Mb(12,"br"),g.zc(13),g.dc(14,"async"),g.Rb(15,"ul"),g.Rb(16,"li"),g.zc(17,"Should be disabled initially"),g.Qb(),g.Rb(18,"li"),g.zc(19,"Should be invalid/red on enabling"),g.Qb(),g.Rb(20,"li"),g.zc(21,"Should be valid/grey when disabling (without choosing value)"),g.Qb(),g.Qb()),2&e&&(g.Ab(5),g.ic("formGroup",t.form),g.Ab(4),g.ic("dataSource",t.items$)("errorStateMatcher",t.errorStateMatcher),g.Ab(1),g.Bc(" value: ",g.ec(11,5,t.form.value.select),""),g.Ab(3),g.Bc(" last 5 values: ",g.ec(14,7,t.lastFiveValues$)," "))},directives:[n.o,n.i,c.c,c.g,R.a,n.n,n.g],pipes:[o.g,o.b],encapsulation:2,changeDetection:0}),e})();const $=function(e){return{"app-select-demo__panel":e}};function q(e,t){if(1&e){const e=g.Sb();g.Rb(0,"mat-card",8),g.Rb(1,"mat-form-field"),g.Rb(2,"mat-label"),g.zc(3,"ngModel"),g.Qb(),g.Rb(4,"ps-select",9),g.Yb("ngModelChange",(function(t){return g.pc(e),g.cc().ngModel=t})),g.Qb(),g.Qb(),g.Rb(5,"div",10),g.Rb(6,"mat-form-field"),g.Rb(7,"mat-label"),g.zc(8,"FormControl"),g.Qb(),g.Mb(9,"ps-select",11),g.Qb(),g.Qb(),g.Qb()}if(2&e){const e=g.cc();g.Ab(4),g.ic("ngModel",e.ngModel)("dataSource",e.ngModelDataSource)("multiple",e.multiple)("clearable",e.clearable)("disabled",e.disabled)("required",e.required)("panelClass",g.kc(14,$,e.panelClass)),g.Ab(1),g.ic("formGroup",e.form),g.Ab(4),g.ic("dataSource",e.formDataSource)("multiple",e.multiple)("clearable",e.clearable)("disabled",e.disabled)("required",e.required)("panelClass",g.kc(16,$,e.panelClass))}}let E=(()=>{class e{constructor(e){this.cd=e,this.visible=!0,this.ngModel=null,this.form=new n.h({ctrl:new n.e(null)}),this.items=Array.from(Array(500).keys()).map(e=>({id:e,strId:"id"+e,labelA:"Label A "+e,labelB:"Label B "+e,disabled:e%5==4})),this.unknowIitem={id:-1,strId:"id-1",labelA:"Label A -1",labelB:"Label B -1"},this.multiple=!1,this.clearable=!0,this.disabled=!1,this.required=!1,this.panelClass=!1,this.dataSourceItems="default",this.dataSourceMode="id",this.dataSourceIdKey="id",this.dataSourceLabelKey="labelA",this.dataSourceSearchDebounce=300,this.loadTriggerInitial=!0,this.loadTriggerFirstPanelOpen=!1,this.loadTriggerEveryPanelOpen=!1,this.sortBySelected=!0,this.sortByComparer=!0,this.reverseSort=!1,this.itemsAsObservable=!1,this.itemsAsFunction=!1,this.ngModelLogs={loadCount:0},this.formLogs={loadCount:0}}ngOnInit(){this.resetDataSource()}createDataSource(e){const t=new d.a({mode:this.dataSourceMode,idKey:this.dataSourceIdKey,labelKey:this.dataSourceLabelKey,disabledKey:"disabled",items:this.getDataSourceItems(e),searchDebounce:this.dataSourceSearchDebounce,loadTrigger:this.getPsSelectLoadTrigger(),sortBy:this.getPsSelectSortBy()});return this.reverseSort&&(t.sortCompare=(e,t)=>t.entity.id-e.entity.id),t}getPsSelectLoadTrigger(){return(this.loadTriggerInitial&&1)|(this.loadTriggerFirstPanelOpen&&2)|(this.loadTriggerEveryPanelOpen&&4)}getPsSelectSortBy(){return(this.sortBySelected&&1)|(this.sortByComparer&&2)}getDataSourceItems(e){switch(e.loadCount=0,this.dataSourceItems){case"default":let t=this.items;if(this.itemsAsObservable&&(t=Object(u.a)(t).pipe(Object(p.a)(()=>{++e.loadCount}))),this.itemsAsFunction){const a=t;t=()=>(++e.loadCount,a)}return t;case"empty":return[];case"loading":return m.a;case"error":return Object(h.a)(new Error("loading failed"))}}resetDataSource(){this.ngModelDataSource=this.createDataSource(this.ngModelLogs),this.formDataSource=this.createDataSource(this.formLogs)}patchUnknownItem(){const e=this.multiple?[this.unknowIitem]:this.unknowIitem;this.ngModel=e,this.form.patchValue({ctrl:e})}disabledChanged(){this.disabled?this.form.disable():this.form.enable()}recreate(){this.visible=!1,setTimeout(()=>{this.resetDataSource(),this.visible=!0,this.cd.markForCheck()},0)}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(g.h))},e.\u0275cmp=g.Fb({type:e,selectors:[["app-select-demo"]],decls:116,vars:37,consts:[[1,"app-select-demo__settings"],[1,"app-select-demo__settings-box"],[3,"ngModel","ngModelChange","change"],[3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value"],["matInput","","type","number",3,"ngModel","ngModelChange","change"],["style","margin-bottom: 1em;",4,"ngIf"],[2,"margin-bottom","1em"],[3,"ngModel","dataSource","multiple","clearable","disabled","required","panelClass","ngModelChange"],[3,"formGroup"],["formControlName","ctrl",3,"dataSource","multiple","clearable","disabled","required","panelClass"]],template:function(e,t){1&e&&(g.Rb(0,"div",0),g.Rb(1,"mat-card",1),g.Rb(2,"strong"),g.zc(3,"ps-select"),g.Qb(),g.Rb(4,"span"),g.zc(5,"[dataSource] = new DefaultPsSelectDataSource(...)"),g.Qb(),g.Rb(6,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.multiple=e}))("change",(function(){return t.recreate()})),g.zc(7,"[multiple]"),g.Qb(),g.Rb(8,"mat-checkbox",3),g.Yb("ngModelChange",(function(e){return t.clearable=e})),g.zc(9,"[clearable]"),g.Qb(),g.Rb(10,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.disabled=e}))("change",(function(){return t.disabledChanged()})),g.zc(11,"[disabled]"),g.Qb(),g.Rb(12,"mat-checkbox",3),g.Yb("ngModelChange",(function(e){return t.required=e})),g.zc(13,"[required]"),g.Qb(),g.Rb(14,"span"),g.zc(15,"[errorStateMatcher]"),g.Qb(),g.Rb(16,"mat-checkbox",3),g.Yb("ngModelChange",(function(e){return t.panelClass=e})),g.zc(17,"[panelClass] (color: green)"),g.Qb(),g.Rb(18,"div"),g.zc(19,"(openedChange) $event = boolean"),g.Qb(),g.Rb(20,"div"),g.zc(21,"(selectionChange) $event = MatSelectChange"),g.Qb(),g.Qb(),g.Rb(22,"mat-card",1),g.Rb(23,"strong"),g.zc(24,"DefaultPsSelectDataSource"),g.Qb(),g.Rb(25,"mat-form-field"),g.Rb(26,"mat-label"),g.zc(27,"items"),g.Qb(),g.Rb(28,"mat-select",4),g.Yb("ngModelChange",(function(e){return t.dataSourceItems=e}))("selectionChange",(function(){return t.resetDataSource()})),g.Rb(29,"mat-option",5),g.zc(30,"500 items"),g.Qb(),g.Rb(31,"mat-option",5),g.zc(32,"error while loading"),g.Qb(),g.Rb(33,"mat-option",5),g.zc(34,"endless loading"),g.Qb(),g.Rb(35,"mat-option",5),g.zc(36,"empty result"),g.Qb(),g.Qb(),g.Qb(),g.Rb(37,"strong"),g.zc(38,"items array"),g.Qb(),g.Rb(39,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.itemsAsObservable=e}))("change",(function(){return t.resetDataSource()})),g.zc(40,"wrapped in observable"),g.Qb(),g.Rb(41,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.itemsAsFunction=e}))("change",(function(){return t.resetDataSource()})),g.zc(42,"result of load function"),g.Qb(),g.Rb(43,"mat-form-field"),g.Rb(44,"mat-label"),g.zc(45,"mode"),g.Qb(),g.Rb(46,"mat-select",4),g.Yb("ngModelChange",(function(e){return t.dataSourceMode=e}))("selectionChange",(function(){return t.resetDataSource()})),g.Rb(47,"mat-option",5),g.zc(48,"id"),g.Qb(),g.Rb(49,"mat-option",5),g.zc(50,"entity"),g.Qb(),g.Qb(),g.Qb(),g.Rb(51,"mat-form-field"),g.Rb(52,"mat-label"),g.zc(53,"idKey"),g.Qb(),g.Rb(54,"mat-select",4),g.Yb("ngModelChange",(function(e){return t.dataSourceIdKey=e}))("selectionChange",(function(){return t.resetDataSource()})),g.Rb(55,"mat-option",5),g.zc(56,"id property"),g.Qb(),g.Rb(57,"mat-option",5),g.zc(58,"strId property"),g.Qb(),g.Qb(),g.Qb(),g.Rb(59,"mat-form-field"),g.Rb(60,"mat-label"),g.zc(61,"labelKey"),g.Qb(),g.Rb(62,"mat-select",4),g.Yb("ngModelChange",(function(e){return t.dataSourceLabelKey=e}))("selectionChange",(function(){return t.resetDataSource()})),g.Rb(63,"mat-option",5),g.zc(64,"labelA property"),g.Qb(),g.Rb(65,"mat-option",5),g.zc(66,"labelB property"),g.Qb(),g.Qb(),g.Qb(),g.Rb(67,"mat-form-field"),g.Rb(68,"mat-label"),g.zc(69,"searchDebounce"),g.Qb(),g.Rb(70,"input",6),g.Yb("ngModelChange",(function(e){return t.dataSourceSearchDebounce=e}))("change",(function(){return t.resetDataSource()})),g.Qb(),g.Qb(),g.Rb(71,"strong"),g.zc(72,"loadTrigger"),g.Qb(),g.Rb(73,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.loadTriggerInitial=e}))("change",(function(){return t.resetDataSource()})),g.zc(74,"Initial"),g.Qb(),g.Rb(75,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.loadTriggerFirstPanelOpen=e}))("change",(function(){return t.resetDataSource()})),g.zc(76,"FirstPanelOpen"),g.Qb(),g.Rb(77,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.loadTriggerEveryPanelOpen=e}))("change",(function(){return t.resetDataSource()})),g.zc(78,"EveryPanelOpen"),g.Qb(),g.Rb(79,"strong"),g.zc(80,"sortBy"),g.Qb(),g.Rb(81,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.sortBySelected=e}))("change",(function(){return t.resetDataSource()})),g.zc(82,"Selected"),g.Qb(),g.Rb(83,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.sortByComparer=e}))("change",(function(){return t.resetDataSource()})),g.zc(84,"Comparer"),g.Qb(),g.Rb(85,"strong"),g.zc(86,"sortCompare"),g.Qb(),g.Rb(87,"mat-checkbox",2),g.Yb("ngModelChange",(function(e){return t.reverseSort=e}))("change",(function(){return t.resetDataSource()})),g.zc(88,"custom (reverse by id)"),g.Qb(),g.Qb(),g.Qb(),g.xc(89,q,10,18,"mat-card",7),g.Rb(90,"mat-card",8),g.Rb(91,"strong"),g.zc(92,"ngModel logs"),g.Qb(),g.Rb(93,"div"),g.zc(94),g.dc(95,"json"),g.Qb(),g.Rb(96,"div"),g.zc(97),g.Qb(),g.Qb(),g.Rb(98,"mat-card",8),g.Rb(99,"strong"),g.zc(100,"FormControl logs"),g.Qb(),g.Rb(101,"div"),g.zc(102),g.dc(103,"json"),g.Qb(),g.Rb(104,"div"),g.zc(105),g.Qb(),g.Qb(),g.Mb(106,"app-select-with-multiselect"),g.Mb(107,"app-select-with-events-only"),g.Mb(108,"app-select-with-ng-model"),g.Mb(109,"app-select-with-selected-item-not-in-datasource"),g.Mb(110,"app-select-with-endless-loading-datasource"),g.Mb(111,"app-select-with-error-in-datasource"),g.Mb(112,"app-select-with-other-load-trigger"),g.Mb(113,"app-select-with-custom-select-service"),g.Mb(114,"app-select-with-custom-template"),g.Mb(115,"app-select-with-error-state-matcher")),2&e&&(g.Ab(6),g.ic("ngModel",t.multiple),g.Ab(2),g.ic("ngModel",t.clearable),g.Ab(2),g.ic("ngModel",t.disabled),g.Ab(2),g.ic("ngModel",t.required),g.Ab(4),g.ic("ngModel",t.panelClass),g.Ab(12),g.ic("ngModel",t.dataSourceItems),g.Ab(1),g.ic("value","default"),g.Ab(2),g.ic("value","error"),g.Ab(2),g.ic("value","loading"),g.Ab(2),g.ic("value","empty"),g.Ab(4),g.ic("ngModel",t.itemsAsObservable),g.Ab(2),g.ic("ngModel",t.itemsAsFunction),g.Ab(5),g.ic("ngModel",t.dataSourceMode),g.Ab(1),g.ic("value","id"),g.Ab(2),g.ic("value","entity"),g.Ab(5),g.ic("ngModel",t.dataSourceIdKey),g.Ab(1),g.ic("value","id"),g.Ab(2),g.ic("value","strId"),g.Ab(5),g.ic("ngModel",t.dataSourceLabelKey),g.Ab(1),g.ic("value","labelA"),g.Ab(2),g.ic("value","labelB"),g.Ab(5),g.ic("ngModel",t.dataSourceSearchDebounce),g.Ab(3),g.ic("ngModel",t.loadTriggerInitial),g.Ab(2),g.ic("ngModel",t.loadTriggerFirstPanelOpen),g.Ab(2),g.ic("ngModel",t.loadTriggerEveryPanelOpen),g.Ab(4),g.ic("ngModel",t.sortBySelected),g.Ab(2),g.ic("ngModel",t.sortByComparer),g.Ab(4),g.ic("ngModel",t.reverseSort),g.Ab(2),g.ic("ngIf",t.visible),g.Ab(5),g.Bc("value: ",g.ec(95,33,t.ngModel),""),g.Ab(3),g.Bc("load count: ",t.ngModelLogs.loadCount,""),g.Ab(5),g.Bc("value: ",g.ec(103,35,t.form.value.ctrl),""),g.Ab(3),g.Bc("load count: ",t.formLogs.loadCount,""))},directives:[r.a,i.a,n.n,n.q,c.c,c.g,f.a,v.k,l.a,n.r,n.c,o.m,y,Q,z,M,S,w,C,I,F,P,R.a,n.t,n.o,n.i,n.g],pipes:[o.g],styles:["\n      .app-select-demo__settings {\n        display: grid !important;\n        grid-auto-flow: column;\n        gap: 1em;\n\n        margin-bottom: 1em;\n      }\n      .app-select-demo__settings-box {\n        display: grid !important;\n        gap: 1em;\n        align-content: start;\n      }\n      .app-select-demo__panel .mat-option-text {\n        color: green;\n      }\n    "],encapsulation:2,changeDetection:0}),e})();a("vv7Z");let V=(()=>{class e{}return e.\u0275mod=g.Jb({type:e}),e.\u0275inj=g.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[n.j,n.s,d.c.forRoot(d.b),o.c,c.e,s.c,i.b,r.c,l.b,b.d.forChild([{path:"",component:E}])]]}),e})()},Meci:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return b}));var o=a("5lCh"),n=a("mFH5"),r=a("EM62");const i=["*",[["mat-card-footer"]]],c=["*","mat-card-footer"];let l=(()=>{class e{constructor(){this.align="start"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Gb({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,t){2&e&&r.Db("mat-card-actions-align-end","end"===t.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),e})(),s=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(o.a,8))},e.\u0275cmp=r.Fb({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&r.Db("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:c,decls:2,vars:0,template:function(e,t){1&e&&(r.hc(i),r.gc(0),r.gc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),b=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},imports:[[n.h],n.h]}),e})()}}]);